# 循环无锁队列
1. 支持多Push多Pop
2. 1,000,000qps (默认模版参数，32位整数压测)

# 锁设计
head tail lock 三者位压缩成64位整数meta，进行原子切换， 解锁成功时才改变head和tail

```c++
+--28---+--28--+--8---+
| head  | tail | lock |
+-------+------+------+
```

优点: 死锁仍然保存死锁前状态，Push和Pop检查到的话会立马解开，重试后可以继续使用，无需初始化整个队列

缺点：队列最长只能为(1<<28)-1，大概2亿

# 死锁检测
自旋锁启动前记录meta为firstmeta，如果自旋完毕之后遇到加锁状态，并且meta跟firstmeta一致，则认为出现了死锁。
